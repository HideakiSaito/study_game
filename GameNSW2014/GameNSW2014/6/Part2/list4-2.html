<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>放物運動のシミュレーション</title>
  <style>canvas { background-color: #000000; }</style>
</head>
<body onload="init()">
<canvas id="canvas" width="1200" height="600"></canvas>
<script>
var canvas; // キャンバス
var context; // 描画コンテキスト
var timer; // タイマー
var vx, vy; // 速度
var x, y; // ボールの中心
var g = 9.8; // 重力加速度
var t = 0.2; // 時間
var e = -0.8; // はね返り係数

function init() {
  // 描画コンテキストを取得
  canvas = document.getElementById("canvas");
  context = canvas.getContext("2d");
  // ボールの初速度
  vx = 7;
  vy = -100;
  // ボールの初期位置
  x = 0;
  y = canvas.height;
  // 最初のボールを描画
  context.arc(x, y, 10, 0, 360 * Math.PI / 180);
  // タイマースタート。20ミリ秒間隔でdraw()を実行
  timer = setInterval(draw, 20);
}

function draw() {
  // x方向（等速度運動）
  x = x + vx;
  // y方向（等加速度運動）
  vy = vy + g * t;
  y = y + vy * t + 0.5 * g * t * t;
  // 地面にぶつかったとき
  if (y + 15 > canvas.height) {
    y = canvas.height - 15;
    vy = vy * e;
  }
  // キャンバスを初期化
  context.fillStyle = "rgba(0, 0, 0, 0.03)";
  context.rect(0, 0, 1200, 600);
  context.fill();
  // ボールを描画
  context.fillStyle = "rgb(255, 255, 255)";
  context.beginPath();
  context.arc(x, y, 15, 0, 360*Math.PI/180);
  context.fill();
}
</script>
</body>
</html>